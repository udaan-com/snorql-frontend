{"status":200,"headers":{"server":"openresty/1.15.8.2","date":"Mon, 01 May 2023 06:30:19 GMT","content-type":"application/json","transfer-encoding":"chunked","connection":"close","vary":"Accept-Encoding","strict-transport-security":"max-age=15724800; includeSubDomains"},"data":{"metricInput":{"metricId":"storage_tableUnusedIndex","metricPeriod":"REAL_TIME","databaseName":"udprodsql/db-prod","databaseType":"SQLSERVER","tableName":"seller_order","from":null,"to":null,"recommendationRequired":true},"metricOutput":{"result":{"queryList":[{"objectName":"seller_order","indexName":"buyer_id_current_active_order_type_order_status_include","userSeeks":37053130,"userScans":0,"userLookups":0,"userUpdates":7483613,"indexColumnNames":"current_active buyer_id order_type order_status","includeColumnNames":"order_id created_at"},{"objectName":"seller_order","indexName":"idx_clustered_seller_order_part","userSeeks":79112,"userScans":171,"userLookups":225939567,"userUpdates":7924179,"indexColumnNames":"created_at","includeColumnNames":""},{"objectName":"seller_order","indexName":"seller_id_current_active_include","userSeeks":4360055,"userScans":0,"userLookups":0,"userUpdates":7483613,"indexColumnNames":"seller_id current_active","includeColumnNames":"order_id created_at order_status order_type"},{"objectName":"seller_order","indexName":"seller_order_buyer_id_created_at_last_updated_at_index","userSeeks":3803279,"userScans":0,"userLookups":0,"userUpdates":7419444,"indexColumnNames":"buyer_id created_at last_updated_at","includeColumnNames":""},{"objectName":"seller_order","indexName":"seller_order_current_active_include_index","userSeeks":96081847,"userScans":0,"userLookups":0,"userUpdates":7483613,"indexColumnNames":"current_active order_id created_at","includeColumnNames":"order_status"},{"objectName":"seller_order","indexName":"seller_order_current_active_main_order_id_idx","userSeeks":227532,"userScans":0,"userLookups":0,"userUpdates":4757368,"indexColumnNames":"current_active main_order_id created_at","includeColumnNames":""},{"objectName":"seller_order","indexName":"seller_order_seller_id_created_at__index","userSeeks":2049,"userScans":0,"userLookups":0,"userUpdates":7419444,"indexColumnNames":"seller_id created_at last_updated_at","includeColumnNames":""},{"objectName":"seller_order","indexName":"seller_order_seller_id_current_active_order_status_created_at_index","userSeeks":12127,"userScans":0,"userLookups":0,"userUpdates":7483613,"indexColumnNames":"seller_id current_active order_status created_at","includeColumnNames":"buyer_id"},{"objectName":"seller_order","indexName":"seller_order_unique_serial_no","userSeeks":0,"userScans":0,"userLookups":0,"userUpdates":1027295,"indexColumnNames":"serial_no","includeColumnNames":""},{"objectName":"seller_order","indexName":"so_order_id_index","userSeeks":89840816,"userScans":0,"userLookups":0,"userUpdates":1036872,"indexColumnNames":"order_id current_active created_at","includeColumnNames":""},{"objectName":"seller_order","indexName":"so_order_status_index","userSeeks":701246,"userScans":0,"userLookups":0,"userUpdates":7483613,"indexColumnNames":"order_status current_active created_at","includeColumnNames":""},{"objectName":"seller_order","indexName":"so_order_status_index_2","userSeeks":677,"userScans":0,"userLookups":0,"userUpdates":7492188,"indexColumnNames":"current_active order_status created_at last_updated_at","includeColumnNames":""}]},"recommendation":{"indexesToDrop":["seller_order_unique_serial_no"]}},"metadata":{"underlyingQueries":["SELECT DISTINCT OBJECT_NAME(S.[OBJECT_ID]) AS OBJECT_NAME,\n                I.[NAME]                   AS INDEX_NAME,\n                USER_SEEKS,\n                USER_SCANS,\n                USER_LOOKUPS,\n                USER_UPDATES,\n                (SELECT IIF(is_included_column = 1, NULL, COL_NAME(I.object_id, column_id)) AS [data()]\n                 FROM sys.index_columns AS IndexColumns\n                 WHERE IndexColumns.object_id = I.object_id\n                   AND IndexColumns.index_id = I.index_id\n                 ORDER BY index_column_id, column_id\n                 FOR XML PATH('')\n                )                          AS IndexColumnNames,\n                (SELECT IIF(is_included_column = 1, COL_NAME(I.object_id, column_id), NULL) AS [data()]\n                 FROM sys.index_columns AS IndexColumns\n                 WHERE IndexColumns.object_id = I.object_id\n                   AND IndexColumns.index_id = I.index_id\n                 ORDER BY column_id\n                 FOR XML PATH('')\n                )                          AS IncludeColumnNames\nFROM SYS.DM_DB_INDEX_USAGE_STATS AS S\n         INNER JOIN SYS.INDEXES AS I ON I.[OBJECT_ID] = S.[OBJECT_ID] AND I.INDEX_ID = S.INDEX_ID\n         inner join sys.index_columns ic on ic.index_id = i.index_id and ic.object_id = i.object_id\n         join sys.columns c on c.column_id = ic.column_id and c.object_id = i.object_id\nWHERE OBJECTPROPERTY(S.[OBJECT_ID], 'IsUserTable') = 1\n  and i.Name is not null\n  and OBJECT_NAME(S.[OBJECT_ID]) = :tableName\n  and ic.object_id = I.object_id\n  AND ic.index_id = I.index_id\ngroup by OBJECT_NAME(S.[OBJECT_ID]), I.[NAME], USER_SEEKS, USER_SCANS, USER_LOOKUPS, USER_UPDATES, ic.index_id,\n         I.object_id, ic.column_id, I.index_id;\n"],"referenceDocumentation":[],"description":"","supportsHistorical":false,"minimumRepeatInterval":""}}}
