{"status":200,"headers":{"server":"openresty/1.15.8.2","date":"Mon, 01 May 2023 06:28:42 GMT","content-type":"application/json","transfer-encoding":"chunked","connection":"close","vary":"Accept-Encoding","strict-transport-security":"max-age=15724800; includeSubDomains"},"data":{"metricInput":{"metricId":"session_sessionLocks","metricPeriod":"REAL_TIME","databaseType":"SQLSERVER","databaseName":"udprodsql/db-prod","sessionId":1,"from":null,"to":null,"recommendationRequired":false},"metricOutput":{"result":{"queryList":[]},"recommendation":null},"metadata":{"underlyingQueries":["SELECT dm_tran_locks.request_session_id,\n       dm_tran_locks.resource_database_id,\n       dm_tran_locks.request_lifetime,\n       DB_NAME(dm_tran_locks.resource_database_id) AS dbname,\n       CASE\n   WHEN resource_type = 'OBJECT'\n       THEN OBJECT_NAME(dm_tran_locks.resource_associated_entity_id)\n   ELSE OBJECT_NAME(partitions.OBJECT_ID)\n   END AS ObjectName,\n       partitions.index_id,\n       indexes.name AS index_name,\n       dm_tran_locks.resource_type,\n       dm_tran_locks.resource_description,\n       dm_tran_locks.resource_associated_entity_id,\n       dm_tran_locks.request_mode,\n       dm_tran_locks.request_status\nFROM sys.dm_tran_locks\n LEFT JOIN sys.partitions ON partitions.hobt_id = dm_tran_locks.resource_associated_entity_id\n LEFT JOIN sys.indexes ON indexes.OBJECT_ID = partitions.OBJECT_ID AND indexes.index_id = partitions.index_id\nWHERE resource_associated_entity_id > 0\n  AND resource_database_id = DB_ID() AND request_session_id = :sessionIdParam \nORDER BY request_session_id, resource_associated_entity_id;"],"referenceDocumentation":["https://docs.microsoft.com/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-tran-locks-transact-sql?view=sql-server-ver15"],"description":"Locks applied by a session","supportsHistorical":false,"minimumRepeatInterval":""}}}
